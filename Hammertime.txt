func survive()
  ?loc.begin & item.potion = empty
    brew stone + tar
  ?hp < 12
    activate potion

func equip_weapons()
  ?foe = aether
    equipL sword vigor
    equipR wand vigor
  :?foe = fire
    equipL sword aether
    equipR wand aether
  :?foe = ice
    equipL sword fire
    equipR wand fire
  :?foe = poison
    equipL sword ice
    equipR wand ice
  :?foe = vigor
    equipL sword poison
    equipR wand poison
  :
    equipL sword
    equipR wand

?foe.distance >= 11 & foe.distance <= 16
  equip dash
:?foe.distance <= 25
  ?foe = dysangelos perfected
    ?foe.damage = 1
      ?item.GetCooldown("hammer") <= 0 |
      ^item.GetCooldown("hammer") > 630
        equip heavy hammer
        activate R
      :?foe.armor > 0
        equip heavy hammer
      :
        equip_weapons()
    :
      ?foe.armor > 0
        equip heavy hammer
      :
        equip_weapons()
  :
    equip_weapons()

?foe.state = 115 & foe.time >= 60
  equip mind

survive()
